# himalaya-mcp - Email MCP Server & Claude Code Plugin
# Privacy-first email access via himalaya CLI

## Project: himalaya-mcp
## Type: mcp-server / claude-code-plugin
## Status: active
## Focus: Released v1.3.1
## Phase: v1.3.1 stable
## Priority: 2
## Progress: 100 (v1.3.0 released)

## Completed

- Phase 0: Repo scaffold, specs, CI, branch protection
- Phase 1: Core Read MVP — subprocess client, 4 MCP tools, 3 resources
- Phase 2: Triage + Export — flag_email, move_email, export_to_markdown, 3 MCP prompts
- Phase 3: Compose + Actions — draft_reply, send_email (safety gate), create_action_item
- Phase 4: Clipboard + Config — copy_to_clipboard adapter, env-based config
- Phase 5: Plugin Skills — /email:reply skill, agent updates, skill updates
- Phase 6a: Folders — list_folders, create_folder, delete_folder
- Phase 6b: Compose — compose_email (new messages, two-phase safety gate)
- Phase 6c: Attachments — list_attachments, download_attachment
- Phase 6d: Calendar — extract_calendar_event, create_calendar_event (ICS + Apple Calendar)
- Plugin Packaging: esbuild bundle (595KB), Homebrew formula, marketplace.json, CLI setup
- .mcpb Packaging: Desktop Extension, install-ext/remove-ext CLI, doctor command
- Total: 19 tools, 4 prompts, 3 resources, 7 skills, 315 tests (15 test files)

## Just Completed

- 2026-02-17: Released v1.3.0 (GitHub + Homebrew + docs site)
- 2026-02-17: .mcpb Desktop Extension packaging for Claude Desktop/Cowork
- 2026-02-17: install-ext / remove-ext CLI commands for local extension management
- 2026-02-17: doctor diagnostic command (--fix, --json) — checks 6 layers
- 2026-02-17: Fixed himalaya v1.1.0 arg ordering (--account/--output after subcommand)
- 2026-02-17: Changed default timeout from 30s to unlimited
- 2026-02-17: 275 → 315 tests (+39: .mcpb packaging, doctor E2E, config guards)
- 2026-02-25: Docs overhaul — tabbed install, troubleshooting, packaging diagram (PR #41)

## Current State

- Branch: `dev` (docs overhaul merged, pending release to main)
- v1.3.0 released on GitHub, Homebrew, and docs site
- All phases complete
- Tests: 315 across 15 test files
- Bundle: 595KB (esbuild), .mcpb: ~147KB

## Install

```bash
# Homebrew (recommended)
brew tap data-wise/tap
brew install himalaya-mcp

# Claude Code plugin (from GitHub)
claude plugin marketplace add Data-Wise/himalaya-mcp
claude plugin install email

# Claude Desktop (.mcpb extension)
# Download .mcpb from GitHub Releases, double-click to install
himalaya-mcp install-ext

# Claude Desktop (legacy CLI setup)
himalaya-mcp setup

# Diagnose installation
himalaya-mcp doctor
himalaya-mcp doctor --fix
```

---

## Next Action

- Brainstorm v1.4.0 scope

## Future

- Bundled .mcpb variant with universal himalaya binary (~19 MB)
- Code signing + notarization (Apple Developer, $99/yr)
- Official Anthropic extension directory listing
- Obsidian adapter — export emails to vault as markdown notes
- Apple ecosystem — Notes/Reminders integration via AppleScript
- Thread view — group related emails by conversation
- Templates — reusable email templates for common replies

---

**Last Updated:** 2026-02-25
**Status:** v1.3.0 released (GitHub + Homebrew + docs site)
