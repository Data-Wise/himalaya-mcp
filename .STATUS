# himalaya-mcp - Email MCP Server & Claude Code Plugin
# Privacy-first email access via himalaya CLI

## Project: himalaya-mcp
## Type: mcp-server / claude-code-plugin
## Status: active
## Focus: Stable — all features shipped
## Phase: Maintenance
## Priority: 3
## Progress: 100

## Completed

- Phase 0: Repo scaffold, specs, CI, branch protection
- Phase 1: Core Read MVP — subprocess client, 4 MCP tools, 3 resources
- Phase 2: Triage + Export — flag_email, move_email, export_to_markdown, 3 MCP prompts
- Phase 3: Compose + Actions — draft_reply, send_email (safety gate), create_action_item
- Phase 4: Clipboard + Config — copy_to_clipboard adapter, env-based config
- Phase 5: Plugin Skills — /email:reply skill, agent updates, skill updates
- Plugin Packaging: esbuild bundle (583KB), Homebrew formula, marketplace.json, CLI setup, cross-platform support
- Homebrew Release Automation: homebrew-release.yml (validate → prepare → update-homebrew)
- Total: 11 tools, 4 prompts, 3 resources, 181 tests (11 test files)

## Just Completed

- 2026-02-14: Fixed cross-repo push auth in homebrew-tap reusable workflow (persist-credentials: false + unset GITHUB_TOKEN)
- 2026-02-14: Fixed Homebrew post-install hang when Claude Code is running (pgrep guard on all JSON writes)
- 2026-02-14: Verified full release pipeline end-to-end (release → formula update → brew upgrade)
- 2026-02-14: Deployed docs site with updated changelog

## Current State

- Branch: `dev` (ahead of main by changelog commit)
- v1.1.1 released on GitHub + Homebrew
- GitHub Pages: https://data-wise.github.io/himalaya-mcp/
- CI: passing
- Tests: 181 (13 parser + 12 client + 7 manage + 9 compose + 6 actions + 15 prompts + 7 config + 4 clipboard + 68 dogfood + 22 e2e + 18 setup)
- Homebrew release pipeline: fully automated and verified

## Install

```bash
# Homebrew (recommended)
brew tap data-wise/tap
brew install himalaya-mcp

# Claude Code plugin (from GitHub)
claude plugin marketplace add Data-Wise/himalaya-mcp
claude plugin install himalaya-mcp

# Claude Desktop
himalaya-mcp setup
```

---

## Next Action

- No active work — project is stable and fully shipped
- Merge dev → main when ready (changelog commit)

## Future

- Obsidian adapter — export emails to vault as markdown notes
- Apple ecosystem — Notes/Reminders integration via AppleScript

---

**Last Updated:** 2026-02-14
**Status:** v1.1.1 released, Homebrew pipeline fully automated
